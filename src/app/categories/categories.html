<div class="categories-container">
  <h2>Categories</h2>

  <div *ngIf="loading()" class="loading">
    <div class="spinner"></div>
    <p>Loading categories...</p>
  </div>

  <div *ngIf="error()" class="error-banner">
    <span>{{ error() }}</span>
  </div>

  <div class="content-wrapper">
    <!-- List Section -->
    <div class="card list">
      <div class="header-bar">
        <h3>Categories List</h3>
        <button class="add-btn" (click)="startAdd()">
          <i class="fa fa-plus"></i> Add Category
        </button>
      </div>

      <table class="styled-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Description</th>
            <th style="text-align:center;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of categories()">
            <td>{{ c.expenseTypeId }}</td>
            <td>{{ c.expenseTypeName }}</td>
            <td>{{ c.description }}</td>
            <td class="actions">
              <button class="edit-btn" (click)="startEdit(c)">
                <i class="fa fa-edit"></i> Edit
              </button>
              <button class="delete-btn" (click)="delete(c)">
                <i class="fa fa-trash"></i> Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Form Section -->
    <div class="card form">
      <h3>{{ current ? 'Edit' : 'Add' }} Category</h3>

      <div class="form-group">
        <label>Name</label>
        <input
          name="name"
          [(ngModel)]="name"
          placeholder="Enter expense type name"
        />
      </div>

      <div class="form-group">
        <label>Description</label>
        <input
          name="description"
          [(ngModel)]="description"
          placeholder="Enter description"
        />
      </div>

      <div class="form-actions">
        <button class="save-btn" (click)="save()">ðŸ’¾ Save</button>
        <button class="cancel-btn" (click)="cancel()">âœ– Cancel</button>
      </div>
    </div>
  </div>
</div>
